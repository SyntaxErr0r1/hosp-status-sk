(function(e){function t(t){for(var o,a,i=t[0],s=t[1],l=t[2],u=0,f=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==c[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},c={app:0},r=[];function a(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"45400c5e"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=o);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=a(e);var l=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=c[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}c[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04cd":function(e,t,n){"use strict";n("3a0c")},"3a0c":function(e,t,n){},"558e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(e,t,n,c,r,a){var i=Object(o["y"])("router-view");return Object(o["r"])(),Object(o["d"])(i)}var r={data:function(){return{hospBedsSlovakia:{success:!0,next_offset:20043e5,page:[{oldest_reported_at:"2020-11-20 00:00:00",newest_reported_at:"2021-09-06 09:04:22",published_on:"2021-09-06",id:210906e4,capacity_all:24764,free_all:9912,capacity_covi:3003,occupied_jis_covid:19,occupied_oaim_covid:9,occupied_o2_covid:64,occupied_other_covid:4,updated_at:"2021-09-06 11:14:51"}]}}}};n("b043");r.render=c;var a=r,i=n("9483");Object(i["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var s=n("6c02");Object(o["u"])("data-v-53d20db0");var l={class:"home"},u=Object(o["g"])("h1",null,"Stav nemocničných lôžok (COVID-19)",-1),d=Object(o["g"])("label",{for:"showTaken"},"Zobraziť obsadenosť",-1),f=Object(o["g"])("h3",null,"Zoznam krajov",-1),p={class:"region-list"},h=["href"];function b(e,t,n,c,r,a){var i=Object(o["y"])("hospital-stats");return Object(o["r"])(),Object(o["f"])("div",l,[u,Object(o["h"])(i,{stats:r.hospBedsSKNow,showTaken:r.showTaken},null,8,["stats","showTaken"]),Object(o["E"])(Object(o["g"])("input",{type:"checkbox",name:"showTaken",id:"showTaken","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.showTaken=e})},null,512),[[o["C"],r.showTaken]]),d,f,Object(o["g"])("ul",p,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(r.hospBedsRegions,(function(e){return Object(o["r"])(),Object(o["f"])("li",{key:e.id},[Object(o["g"])("a",{href:"#region_"+e.id},Object(o["A"])(e.region_info.title),9,h)])})),128))]),(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(r.hospBedsRegions,(function(e){return Object(o["r"])(),Object(o["d"])(i,{showTaken:r.showTaken,key:e.id,id:"region_"+e.id,stats:e},null,8,["showTaken","id","stats"])})),128))])}Object(o["s"])(),Object(o["u"])("data-v-5d3182c0");var v={class:"stats-section"},O={key:0,class:"skeleton-line skeleton-animation skeleton-200px"},j={key:1},g={key:2},_={class:"card-list"},k={key:3},y={key:4,class:"skeleton-line skeleton-animation skeleton-400px"};function w(e,t,n,c,r,a){var i=Object(o["y"])("card");return Object(o["r"])(),Object(o["f"])("div",v,[n.stats?n.stats.region_info?(Object(o["r"])(),Object(o["f"])("h3",j,Object(o["A"])(n.stats.region_info.title)+" kraj",1)):(Object(o["r"])(),Object(o["f"])("h3",g,"Slovenská Republika")):(Object(o["r"])(),Object(o["f"])("h3",O)),Object(o["g"])("div",_,[Object(o["h"])(i,{title:"Lôžka celkovo",content:a.getOveralBedsString,description:n.showTaken?"Obsadené/celkovo":"Voľné/celkovo",contentPercent:a.getOveralBedsPercent},null,8,["content","description","contentPercent"]),Object(o["h"])(i,{title:"Lôžka COVID celkovo",content:a.getCovidBedsString,description:n.showTaken?"Obsadené/celkovo":"Voľné/celkovo",contentPercent:a.getCovidBedsPercent},null,8,["content","description","contentPercent"]),Object(o["h"])(i,{title:"Lôžka COVID JIS",content:n.stats?n.stats.occupied_jis_covid:null,description:"Obsadené"},null,8,["content"]),Object(o["h"])(i,{title:"Lôžka COVID OAIM",content:n.stats?n.stats.occupied_oaim_covid:null,description:"Obsadené"},null,8,["content"]),Object(o["h"])(i,{title:"Lôžka COVID Kyslík",content:n.stats?n.stats.occupied_o2_covid:null,description:"Obsadené"},null,8,["content"]),Object(o["h"])(i,{title:"Lôžka COVID Ostatné",content:n.stats?n.stats.occupied_other_covid:null,description:"Obsadené"},null,8,["content"])]),n.stats?(Object(o["r"])(),Object(o["f"])("h4",k,"Posledná aktualizácia: "+Object(o["A"])(n.stats?n.stats.updated_at:null),1)):Object(o["e"])("",!0),n.stats?Object(o["e"])("",!0):(Object(o["r"])(),Object(o["f"])("h4",y))])}Object(o["s"])();n("a4d3"),n("e01a");Object(o["u"])("data-v-3e7e88bb");var m={class:"card"},P={key:0},S={key:1,class:"skeleton-line skeleton-animation skeleton-200px"},T={class:".card-percent"};function B(e,t,n,c,r,a){return Object(o["r"])(),Object(o["f"])("div",m,[Object(o["g"])("h3",null,Object(o["A"])(n.title),1),Object(o["g"])("div",{class:Object(o["n"])({"content-box":n.contentPercent||0===n.contentPercent})},[n.content||0===n.content?(Object(o["r"])(),Object(o["f"])("h3",P,Object(o["A"])(n.content),1)):(Object(o["r"])(),Object(o["f"])("h3",S)),Object(o["g"])("h3",T,Object(o["A"])(n.contentPercent),1)],2),Object(o["g"])("h4",null,Object(o["A"])(n.description),1)])}Object(o["s"])();var A={props:["title","content","description","contentPercent"]};n("6225");A.render=B,A.__scopeId="data-v-3e7e88bb";var C=A,x={props:["stats","showTaken"],components:{Card:C},data:function(){return{}},computed:{getOveralBedsString:function(){var e=this.stats;return e?this.showTaken?e.capacity_all-e.free_all+"/"+e.capacity_all:e.free_all+"/"+e.capacity_all:null},getCovidBedsString:function(){var e=this.stats;if(!e)return null;var t=e.occupied_jis_covid+e.occupied_o2_covid+e.occupied_oaim_covid+e.occupied_other_covid;return this.showTaken?t+"/"+e.capacity_covid:e.capacity_covid-t+"/"+e.capacity_covid},getOveralBedsPercent:function(){var e=this.stats,t=null;return e?(t=this.showTaken?(e.capacity_all-e.free_all)/e.capacity_all:e.free_all/e.capacity_all,Math.round(100*t)+"%"):null},getCovidBedsPercent:function(){var e=this.stats,t=null;if(!e)return null;var n=e.occupied_jis_covid+e.occupied_o2_covid+e.occupied_oaim_covid+e.occupied_other_covid;return t=this.showTaken?n/e.capacity_covid:(e.capacity_covid-n)/e.capacity_covid,Math.round(100*t)+"%"}}};n("04cd");x.render=w,x.__scopeId="data-v-5d3182c0";var I=x,V=n("d4ec"),D=n("bee2"),L=(n("99af"),n("fb6a"),n("7db0"),{protocol:"localhost"==window.location.hostname?"http":"https",host:window.location.hostname+"/api"}),E=function(){function e(){Object(V["a"])(this,e)}return Object(D["a"])(e,null,[{key:"getBedsSlovakia",value:function(){var e=new Promise((function(e,t){fetch("".concat(L.protocol,"://").concat(L.host,"/hospital-beds/in-slovakia?updated_since=2021-09-05%2012%3A34%3A56")).then((function(e){return e.json()})).then((function(t){var n=t.page[0];e(n)})).catch((function(e){t(e)}))}));return e}},{key:"getBedsRegions",value:function(){var e=new Promise((function(e,t){fetch("".concat(L.protocol,"://").concat(L.host,"/hospital-beds/by-region?updated_since=2021-09-05%2012%3A34%3A56")).then((function(e){return e.json()})).then((function(n){var o=n.page.slice(0,8);fetch("".concat(L.protocol,"://").concat(L.host,"/regions/")).then((function(e){return e.json()})).then((function(t){for(var n=function(){var e=o[c].region_id,n=t.find((function(t){return t.id==e}));o[c].region_info=n},c=0;c<o.length;c++)n();e(o)})).catch((function(e){t("Error while getting list of regions",e)}))})).catch((function(e){t("Error while getting regional data",e)}))}));return e}}]),e}(),M=E,R={name:"Home",components:{HospitalStats:I},data:function(){return{hospBedsSKNow:null,hospBedsRegions:null,showTaken:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;M.getBedsSlovakia(this.dataSource).then((function(t){e.hospBedsSKNow=t})).catch((function(e){return console.error(e)})),M.getBedsRegions(this.dataSource).then((function(t){e.hospBedsRegions=t})).catch((function(e){return console.error(e)}))}}};n("ed1a");R.render=b,R.__scopeId="data-v-53d20db0";var N=R;document.title="Hospital Status SK";var K=[{path:"/",name:"Home",component:N},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],H=Object(s["a"])({history:Object(s["b"])(),routes:K}),z=H;Object(o["c"])(a).use(z).mount("#app")},6225:function(e,t,n){"use strict";n("7a7e")},"7a7e":function(e,t,n){},b043:function(e,t,n){"use strict";n("c342")},c342:function(e,t,n){},ed1a:function(e,t,n){"use strict";n("558e")}});
//# sourceMappingURL=app.d58c168a.js.map